[gd_scene load_steps=12 format=3 uid="uid://ckixsbohu6g7y"]

[ext_resource type="Shader" uid="uid://dwr0ed3vic331" path="res://assets/sky/sky.gdshader" id="1_mfdv2"]
[ext_resource type="Material" uid="uid://bsh88jpbn2gk1" path="res://ground_mat.tres" id="2_iotsf"]
[ext_resource type="PackedScene" uid="uid://b81abe1fxlwfu" path="res://player/player.tscn" id="3_fc0e3"]
[ext_resource type="PackedScene" uid="uid://dnqeeeo0ua77w" path="res://entities/capsule_target/capsule_target.tscn" id="5_7jktm"]
[ext_resource type="Script" uid="uid://cwuuwq236xjlr" path="res://level/kill_plane.gd" id="11_hb5m1"]

[sub_resource type="Curve" id="Curve_4vlth"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.6, 0), -2.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_kqpfv"]
texture_mode = 1
curve = SubResource("Curve_4vlth")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4lrt7"]
shader = ExtResource("1_mfdv2")
shader_parameter/top_color = Color(0.19, 0.19, 0.19, 1)
shader_parameter/bottom_color = Color(0.1, 0.1, 0.1, 1)
shader_parameter/gradient_curve = SubResource("CurveTexture_kqpfv")

[sub_resource type="Sky" id="Sky_wka67"]
sky_material = SubResource("ShaderMaterial_4lrt7")

[sub_resource type="Environment" id="Environment_ny041"]
background_mode = 2
sky = SubResource("Sky_wka67")
ambient_light_source = 2
ambient_light_color = Color(0.6, 0.6, 0.6, 1)
ambient_light_sky_contribution = 0.5
tonemap_mode = 2
tonemap_exposure = 1.1
tonemap_white = 0.9
ssao_enabled = true
ssao_radius = 0.25
glow_enabled = true
glow_levels/1 = 1.0
glow_levels/2 = 1.0
glow_levels/4 = 0.5
glow_levels/6 = 0.5
glow_levels/7 = 0.5
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0.101960786, 0.101960786, 0.101960786, 1)
fog_density = 0.0
fog_sky_affect = 0.0
fog_height = -1.0
fog_height_density = 0.5
fog_depth_begin = 20.0
fog_depth_end = 40.0

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_f3t8n"]

[node name="Game" type="Node"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ny041")

[node name="Environment" type="CSGCombiner3D" parent="."]
material_override = ExtResource("2_iotsf")
use_collision = true

[node name="CSGBox3D19" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, -5, 10.5)
size = Vector3(12, 10, 13)

[node name="CSGBox3D7" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, -2.5, -22.5)
size = Vector3(3, 17, 3)

[node name="CSGBox3D8" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, -4.5, -22.5)
size = Vector3(11, 13, 3)

[node name="CSGBox3D2" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, -5, -7)
size = Vector3(7, 10, 22)

[node name="CSGBox3D17" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.5, -5, -2.5)
size = Vector3(5, 10, 5)

[node name="CSGBox3D6" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, -0.5, -1.5)
size = Vector3(6, 1, 3)

[node name="CSGBox3D14" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5, -8, -1.5)
size = Vector3(3, 16, 3)

[node name="CSGBox3D9" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5, -0.5, -7)
size = Vector3(3, 1, 8)

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Environment"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 14, 0, -7)
polygon = PackedVector2Array(0, 0, 4, 2, 4, 0)
depth = 3.0

[node name="CSGBox3D3" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, -2, -16)
size = Vector3(18, 16, 10)

[node name="CSGBox3D18" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.5, -2, -19.5)
size = Vector3(3, 16, 3)

[node name="CSGBox3D15" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.5, 6.25, -16)
size = Vector3(7, 0.5, 10)

[node name="CSGBox3D16" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.75, 8.75, -16)
operation = 2
size = Vector3(11.5, 5.5, 9)

[node name="CSGBox3D4" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5, -4, -19.5)
size = Vector3(3, 12, 9)

[node name="CSGBox3D13" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.5, -4, -18)
size = Vector3(7, 12, 4)

[node name="CSGBox3D12" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23, -4, -18)
size = Vector3(4, 12, 4)

[node name="CSGBox3D10" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17, -2, -22)
size = Vector3(6, 16, 4)

[node name="CSGBox3D11" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17, 3.75, -21.25)
operation = 2
size = Vector3(5, 3.5, 4.5)

[node name="CSGBox3D5" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.5, -4, -13)
size = Vector3(3, 12, 4)

[node name="CSGPolygon3D5" type="CSGPolygon3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 2, -13)
operation = 2
polygon = PackedVector2Array(-3, -2, -6, -2, -6, 1, -3, 1, -1, 2, 3, 2, 5, 3, 8, 3, 8, 0, 5, 0, 3, -1, -1, -1)
depth = 3.0

[node name="CSGBox3D" type="CSGBox3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1.5, -12)
operation = 2
size = Vector3(3, 3, 4)

[node name="CSGPolygon3D4" type="CSGPolygon3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 2, -21)
polygon = PackedVector2Array(-3, 0, -7, 0, -7, 4, -3, 2, 0, 2, 4, 0)
depth = 3.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.70710695, -0.6408563, 0.29883638, 0, 0.42261818, 0.90630823, -0.70710695, -0.6408563, 0.29883638, 3.1, 3.28171, -2.66167)
shadow_enabled = true
directional_shadow_blend_splits = true
directional_shadow_max_distance = 60.0
directional_shadow_pancake_size = 10.0

[node name="KillPlane" type="Area3D" parent="."]
unique_name_in_owner = true
collision_layer = 0
collision_mask = 4
monitorable = false
script = ExtResource("11_hb5m1")

[node name="CollisionShape3D" type="CollisionShape3D" parent="KillPlane"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -6, 0)
shape = SubResource("WorldBoundaryShape3D_f3t8n")

[node name="Player" parent="." instance=ExtResource("3_fc0e3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.09260607, 0, -0.30207634)

[node name="CapsuleTarget" parent="." instance=ExtResource("5_7jktm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.021560907, -3.8146973e-06, -10.332093)
